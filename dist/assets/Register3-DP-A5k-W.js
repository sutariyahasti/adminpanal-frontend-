import{g as U,a as L,e as d,s as C,aa as ce,ab as de,ac as D,_ as u,ad as re,u as O,w as se,f as _,ae as ue,j as e,k as S,m as q,af as pe,T as g,ag as w,U as R,J as B,Y as oe,E as he,G as a,Z as Q,x as k,H as Z,a3 as me,a4 as xe,$ as ge,a6 as fe,a8 as J,ah as ee,a9 as be,a5 as je}from"./index-C7w-fNU_.js";import{c as Ce,a as z,u as ye,G as ve,d as we,b as ke,C as De,A as Se,e as We,f as Pe}from"./AuthFooter-BTZ3FdEF.js";function Ne(t){return L("MuiDialog",t)}const K=U("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),ae=d.createContext({}),Me=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Re=C(ce,{name:"MuiDialog",slot:"Backdrop",overrides:(t,r)=>r.backdrop})({zIndex:-1}),Be=t=>{const{classes:r,scroll:o,maxWidth:n,fullWidth:l,fullScreen:c}=t,h={root:["root"],container:["container",`scroll${D(o)}`],paper:["paper",`paperScroll${D(o)}`,`paperWidth${D(String(n))}`,l&&"paperFullWidth",c&&"paperFullScreen"]};return q(h,Ne,r)},Te=C(de,{name:"MuiDialog",slot:"Root",overridesResolver:(t,r)=>r.root})({"@media print":{position:"absolute !important"}}),$e=C("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.container,r[`scroll${D(o.scroll)}`]]}})(({ownerState:t})=>u({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Ae=C(re,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.paper,r[`scrollPaper${D(o.scroll)}`],r[`paperWidth${D(String(o.maxWidth))}`],o.fullWidth&&r.paperFullWidth,o.fullScreen&&r.paperFullScreen]}})(({theme:t,ownerState:r})=>u({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},r.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},r.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!r.maxWidth&&{maxWidth:"calc(100% - 64px)"},r.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${K.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},r.maxWidth&&r.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[r.maxWidth]}${t.breakpoints.unit}`,[`&.${K.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[r.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},r.fullWidth&&{width:"calc(100% - 64px)"},r.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${K.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Ie=d.forwardRef(function(r,o){const n=O({props:r,name:"MuiDialog"}),l=se(),c={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":h,"aria-labelledby":p,BackdropComponent:m,BackdropProps:W,children:T,className:P,disableEscapeKeyDown:N=!1,fullScreen:$=!1,fullWidth:G=!1,maxWidth:H="sm",onBackdropClick:x,onClick:A,onClose:M,open:I,PaperComponent:V=re,PaperProps:F={},scroll:Y="paper",TransitionComponent:s=pe,transitionDuration:E=c,TransitionProps:i}=n,f=_(n,Me),b=u({},n,{disableEscapeKeyDown:N,fullScreen:$,fullWidth:G,maxWidth:H,scroll:Y}),y=Be(b),j=d.useRef(),ne=v=>{j.current=v.target===v.currentTarget},ie=v=>{A&&A(v),j.current&&(j.current=null,x&&x(v),M&&M(v,"backdropClick"))},X=ue(p),le=d.useMemo(()=>({titleId:X}),[X]);return e.jsx(Te,u({className:S(y.root,P),closeAfterTransition:!0,components:{Backdrop:Re},componentsProps:{backdrop:u({transitionDuration:E,as:m},W)},disableEscapeKeyDown:N,onClose:M,open:I,ref:o,onClick:ie,ownerState:b},f,{children:e.jsx(s,u({appear:!0,in:I,timeout:E,role:"presentation"},i,{children:e.jsx($e,{className:S(y.container),onMouseDown:ne,ownerState:b,children:e.jsx(Ae,u({as:V,elevation:24,role:"dialog","aria-describedby":h,"aria-labelledby":X},F,{className:S(y.paper,F.className),ownerState:b,children:e.jsx(ae.Provider,{value:le,children:T})}))})}))}))});function Fe(t){return L("MuiDialogActions",t)}U("MuiDialogActions",["root","spacing"]);const Ee=["className","disableSpacing"],ze=t=>{const{classes:r,disableSpacing:o}=t;return q({root:["root",!o&&"spacing"]},Fe,r)},Ue=C("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,!o.disableSpacing&&r.spacing]}})(({ownerState:t})=>u({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Le=d.forwardRef(function(r,o){const n=O({props:r,name:"MuiDialogActions"}),{className:l,disableSpacing:c=!1}=n,h=_(n,Ee),p=u({},n,{disableSpacing:c}),m=ze(p);return e.jsx(Ue,u({className:S(m.root,l),ownerState:p,ref:o},h))});function Oe(t){return L("MuiDialogContent",t)}U("MuiDialogContent",["root","dividers"]);function _e(t){return L("MuiDialogTitle",t)}const qe=U("MuiDialogTitle",["root"]),Ge=["className","dividers"],He=t=>{const{classes:r,dividers:o}=t;return q({root:["root",o&&"dividers"]},Oe,r)},Ve=C("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,o.dividers&&r.dividers]}})(({theme:t,ownerState:r})=>u({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},r.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${qe.root} + &`]:{paddingTop:0}})),Ye=d.forwardRef(function(r,o){const n=O({props:r,name:"MuiDialogContent"}),{className:l,dividers:c=!1}=n,h=_(n,Ge),p=u({},n,{dividers:c}),m=He(p);return e.jsx(Ve,u({className:S(m.root,l),ownerState:p,ref:o},h))}),Xe=["className","id"],Ke=t=>{const{classes:r}=t;return q({root:["root"]},_e,r)},Ze=C(g,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,r)=>r.root})({padding:"16px 24px",flex:"0 0 auto"}),Je=d.forwardRef(function(r,o){const n=O({props:r,name:"MuiDialogTitle"}),{className:l,id:c}=n,h=_(n,Xe),p=n,m=Ke(p),{titleId:W=c}=d.useContext(ae);return e.jsx(Ze,u({component:"h2",className:S(m.root,l),ownerState:p,ref:o,variant:"h6",id:c??W},h))}),te="http://localhost:7005/api",Qe=t=>new RegExp(/[0-9]/).test(t),et=t=>new RegExp(/[a-z]/).test(t)&&new RegExp(/[A-Z]/).test(t),tt=t=>new RegExp(/[!#@$%^&*)(+=._-]/).test(t),rt=t=>t<2?{label:"Poor",color:w.errorMain}:t<3?{label:"Weak",color:w.warningDark}:t<4?{label:"Normal",color:w.orangeMain}:t<5?{label:"Good",color:w.successMain}:t<6?{label:"Strong",color:w.successDark}:{label:"Poor",color:w.errorMain},st=t=>{let r=0;return t.length>5&&(r+=1),t.length>7&&(r+=1),Qe(t)&&(r+=1),tt(t)&&(r+=1),et(t)&&(r+=1),r};function ot({handleSubmit:t,otpDialogOpen:r,setOtpDialogOpen:o,setOtpValue:n,otpValue:l}){return e.jsx(e.Fragment,{children:e.jsxs(Ie,{open:r,onClose:()=>o(!1),children:[e.jsx(Je,{children:"Enter OTP"}),e.jsx(Ye,{children:e.jsx(R,{autoFocus:!0,margin:"dense",id:"otp",label:"OTP",type:"text",fullWidth:!0,value:l,onChange:c=>n(c.target.value)})}),e.jsxs(Le,{children:[e.jsx(B,{onClick:()=>o(!1),color:"primary",children:"Cancel"}),e.jsx(B,{onClick:t,color:"primary",children:"Submit"})]})]})})}const at=({...t})=>{const r=se(),o=oe(r.breakpoints.down("md")),n=he(i=>i.customization),[l,c]=d.useState(!1),[h,p]=d.useState(!0),[m,W]=d.useState(!1),[T,P]=d.useState(!1),[N,$]=d.useState(""),[G,H]=d.useState(0),[x,A]=d.useState(),M=async()=>{console.error("Register")},I=()=>{c(!l)},V=i=>{i.preventDefault()},F=i=>{const f=st(i);H(f),A(rt(f))},Y=Ce({firstName:z().required("First Name is required"),lastName:z().required("Last Name is required"),email:z().email("Invalid email format").required("Email is required"),password:z().min(8,"Password should be at least 8 characters long").required("Password is required")}),s=ye({initialValues:{firstName:"",lastName:"",email:"",password:""},validationSchema:Y,onSubmit:async(i,{setSubmitting:f})=>{var b,y;f(!0);try{(await ee.post(`${te}/send-otp`,{email:i.email})).data.success&&(W(!0),P(!0),alert("OTP sent to your email!"))}catch(j){console.error("Error sending OTP:",((y=(b=j.response)==null?void 0:b.data)==null?void 0:y.error)||j.message)}finally{f(!1)}}}),E=async()=>{try{(await ee.post(`${te}/register`,{...s.values,otp:N})).data.success&&(P(!1),window.location.href="/free/pages/login/login")}catch(i){i.response&&i.response.data?console.error("Registration error:",i.response.data.message):console.error("An error occurred. Please try again.")}};return e.jsxs(e.Fragment,{children:[e.jsxs(a,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:[e.jsx(a,{item:!0,xs:12,children:e.jsx(Q,{children:e.jsxs(B,{variant:"outlined",fullWidth:!0,onClick:M,size:"large",sx:{color:"grey.700",backgroundColor:r.palette.grey[50],borderColor:r.palette.grey[100]},children:[e.jsx(k,{sx:{mr:{xs:1,sm:2,width:20}},children:e.jsx("img",{src:ve,alt:"google",width:16,height:16,style:{marginRight:o?8:16}})}),"Sign up with Google"]})})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(k,{sx:{alignItems:"center",display:"flex"},children:[e.jsx(Z,{sx:{flexGrow:1},orientation:"horizontal"}),e.jsx(B,{variant:"outlined",sx:{cursor:"unset",m:2,py:.5,px:7,borderColor:`${r.palette.grey[100]} !important`,color:`${r.palette.grey[900]}!important`,fontWeight:500,borderRadius:`${n.borderRadius}px`},disableRipple:!0,disabled:!0,children:"OR"}),e.jsx(Z,{sx:{flexGrow:1},orientation:"horizontal"})]})}),e.jsx(a,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:e.jsx(k,{sx:{mb:2},children:e.jsx(g,{variant:"subtitle1",children:"Sign up with Email address"})})})]}),e.jsxs("form",{noValidate:!0,onSubmit:s.handleSubmit,...t,children:[e.jsxs(a,{container:!0,spacing:o?0:2,children:[e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(R,{fullWidth:!0,label:"First Name",margin:"normal",name:"firstName",type:"text",sx:{...r.typography.customInput},value:s.values.firstName,onChange:s.handleChange,onBlur:s.handleBlur,error:s.touched.firstName&&!!s.errors.firstName,helperText:s.touched.firstName&&s.errors.firstName})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(R,{fullWidth:!0,label:"Last Name",margin:"normal",name:"lastName",type:"text",sx:{...r.typography.customInput},value:s.values.lastName,onChange:s.handleChange,onBlur:s.handleBlur,error:s.touched.lastName&&!!s.errors.lastName,helperText:s.touched.lastName&&s.errors.lastName})})]}),e.jsx(R,{fullWidth:!0,label:"Email Address / Username",margin:"normal",name:"email",type:"email",sx:{...r.typography.customInput},value:s.values.email,onChange:s.handleChange,onBlur:s.handleBlur,error:s.touched.email&&!!s.errors.email,helperText:s.touched.email&&s.errors.email}),e.jsx(R,{fullWidth:!0,label:"Password",margin:"normal",name:"password",type:l?"text":"password",value:s.values.password,onChange:i=>{s.handleChange(i),F(i.target.value)},onBlur:s.handleBlur,error:s.touched.password&&!!s.errors.password,helperText:s.touched.password&&s.errors.password,sx:{...r.typography.customInput},InputProps:{endAdornment:e.jsx(me,{position:"end",children:e.jsx(xe,{"aria-label":"toggle password visibility",onClick:I,onMouseDown:V,edge:"end",size:"large",children:l?e.jsx(we,{}):e.jsx(ke,{})})})}}),G!==0&&e.jsx(ge,{fullWidth:!0,children:e.jsx(k,{sx:{mb:2},children:e.jsxs(a,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(a,{item:!0,children:e.jsx(k,{style:{backgroundColor:x==null?void 0:x.color},sx:{width:85,height:8,borderRadius:"7px"}})}),e.jsx(a,{item:!0,children:e.jsx(g,{variant:"subtitle1",fontSize:"0.75rem",children:x==null?void 0:x.label})})]})})}),e.jsx(a,{container:!0,alignItems:"center",justifyContent:"space-between",children:e.jsx(a,{item:!0,children:e.jsx(fe,{control:e.jsx(De,{checked:h,onChange:i=>p(i.target.checked),name:"checked",color:"primary"}),label:e.jsxs(g,{variant:"subtitle1",children:["Agree with  ",e.jsx(g,{variant:"subtitle1",component:J,to:"#",children:"Terms & Condition."})]})})})}),e.jsx(k,{sx:{mt:2},children:e.jsx(Q,{children:e.jsx(B,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",disabled:s.isSubmitting,children:s.isSubmitting?"Submitting...":"Sign up"})})})]}),m&&T&&e.jsx(ot,{handleSubmit:i=>{$(i),E()},otpDialogOpen:T,setOtpDialogOpen:P,setOtpValue:$,otpValue:N})]})},lt=()=>{const t=oe(r=>r.breakpoints.down("md"));return e.jsx(Se,{children:e.jsxs(a,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[e.jsx(a,{item:!0,xs:12,children:e.jsx(a,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(a,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(We,{children:e.jsxs(a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(a,{item:!0,sx:{mb:3},children:e.jsx(J,{to:"#","aria-label":"theme logo",children:e.jsx(be,{})})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(a,{container:!0,direction:{xs:"column-reverse",md:"row"},alignItems:"center",justifyContent:"center",children:e.jsx(a,{item:!0,children:e.jsxs(je,{alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsx(g,{color:"secondary.main",gutterBottom:!0,variant:t?"h3":"h2",children:"Sign up"}),e.jsx(g,{variant:"caption",fontSize:"16px",textAlign:{xs:"center",md:"inherit"},children:"Enter your credentials to continue"})]})})})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(at,{})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(Z,{})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(a,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(g,{component:J,to:"/pages/login/login",variant:"subtitle1",sx:{textDecoration:"none"},children:"Already have an account?"})})})]})})})})}),e.jsx(a,{item:!0,xs:12,sx:{m:3,mt:1},children:e.jsx(Pe,{})})]})})};export{lt as default};
